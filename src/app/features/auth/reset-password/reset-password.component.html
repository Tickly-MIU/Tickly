
<div class="max-w-6xl mx-auto p-3">
    <ol class="flex items-center justify-center w-full text-sm font-medium text-center text-gray-500 sm:text-base">

    <li class="flex md:w-full items-center text-violet-800 sm:after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-500 after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10 " [class.after:bg-violet-800]="completed[0]">
        <span class="flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:text-gray-500" [class.after:text-violet-800]="completed[0]">
            <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 me-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"/>
            </svg>
            Email
        </span>
    </li>

    <li class="flex md:w-full items-center after:content-[''] after:w-full after:h-1 after:border-b after:border-gray-500  after:border-1 after:hidden sm:after:inline-block after:mx-6 xl:after:mx-10" [class.after:bg-violet-800]="completed[1]">
        <span class="flex items-center after:content-['/'] sm:after:hidden after:mx-2 after:text-gray-500" [class.after:text-violet-800]="completed[1]" [class.text-violet-800]="completed[0]">
            <span class="me-2">
                @if(completed[0]){
                    <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 me-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"/>
                    </svg>
                }@else{
                    2
                }
            </span>
            OTP
        </span>
    </li>

    <li class="flex items-center" [class.text-violet-800]="completed[1]">
        <span class="me-2">
            @if(completed[1]){
                <svg class="w-3.5 h-3.5 sm:w-4 sm:h-4 me-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"/>
                </svg>
            }@else{
                3
            }
        </span>
        Password
    </li>
</ol>

<div class="flex flex-col lg:flex-row justify-center items-center gap-3">
    <div class="w-3/4 lg:w-1/2">
        @switch (step) {
            @case(1){
                <img src="ForgotPassword.svg" alt="">
            }

            @case(2){
            <img src="OTP.svg" alt="">
        }
            @case(3){
            <img src="ResetPassword.svg" alt="">}
        }
    </div>
    <div class="lg:w-1/2 w-full h-100 flex justify-center items-center">
        <div class="border bg-gray-200 flex flex-col justify-center items-center min-h-1/2 w-full rounded-lg p-5">
            <form (ngSubmit)="handleForgetPassword()" [formGroup]="forgetPasswordGroup" class="hidden w-full" [class.!block]="step==1">
                <h2 class="mb-5 text-3xl text-center font-bold text-violet-800">Enter Your Email</h2>
                <div class="relative z-0 w-full mb-5 group ">
                    <input formControlName="email" type="email" name="floating_email" id="floating_email" [class.!border-b-red-500]="email?.errors && email?.touched" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-violet-950 peer" placeholder=" "/>
                    <label for="floating_email" [class.!text-red-500]="email?.errors && email?.touched" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-violet-800 peer-focus:dark:text-violet-800 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Email</label>
                </div>
                @if(email?.errors && email?.touched){
            <div class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50" #InvalidInput role="alert">
                        @if(email?.getError('required')){
                            <p>Email is Required</p>
                        }
                        @if(email?.getError('email')){
                            <p>invalid Email</p>
                        }
                    </div>
                }
                    <button [disabled]="forgetPasswordGroup.invalid" type="submit" class="text-white disabled:bg-gray-500 disabled:scale-100 bg-violet-800 hover:bg-violet-950 focus:ring-4 focus:outline-none active:scale-[90%] transition-all duration-150 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center">
                        Continue
                </button>
            </form>
            
            <form (ngSubmit)="handleVerifyResetCode()" [formGroup]="verifyResetCodeGroup" class="hidden w-full" [class.!block]="step==2">
                <h2 class="mb-5 text-3xl text-center font-bold text-violet-800">Enter The OTP</h2>
                <div class="relative z-0 w-full mb-5 group ">
                    <input formControlName="resetCode" type="text" name="floating_resetCode" id="floating_resetCode" [class.!border-b-red-500]="resetCode?.errors && resetCode?.touched" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-violet-950 peer" placeholder=" "/>
                    <label for="floating_resetCode" [class.!text-red-500]="resetCode?.errors && resetCode?.touched" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-violet-800 peer-focus:dark:text-violet-800 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">OTP</label>
                </div>
                @if(resetCode?.errors && resetCode?.touched){
            <div class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50" #InvalidInput role="alert">
                        @if(resetCode?.getError('required')){
                            <p>OTP is required</p>
                        }
                        @if(resetCode?.getError('pattern')){
                            <p>Invalid OTP</p>
                        }
                    </div>
                }
                    <button [disabled]="verifyResetCodeGroup.invalid" type="submit" class="text-white disabled:bg-gray-500 disabled:scale-100 bg-violet-800 hover:bg-violet-950 focus:ring-4 focus:outline-none active:scale-[90%] transition-all duration-150 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center">
                        Continue
                    </button>
            </form>
            
            <form (ngSubmit)="handleResetPassword()" [formGroup]="resetPasswordGroup" class="hidden w-full" [class.!block]="step==3">
                <h2 class="mb-5 text-3xl text-center font-bold text-violet-800">Create New Passwordl</h2>
                <div class="relative z-0 w-full mb-5 group ">
                    <input [readOnly]="true" formControlName="email" type="email" name="floating_email" id="floating_email" [class.!border-b-red-500]="email?.errors && email?.touched" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-violet-950 peer" placeholder=" "/>
                    <label for="floating_email" [class.!text-red-500]="email?.errors && email?.touched" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-violet-800 peer-focus:dark:text-violet-800 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Email</label>
                </div>
                @if(email?.errors && email?.touched){
            <div class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50" #InvalidInput role="alert">
                        @if(email?.getError('required')){
                            <p>Email is required</p>
                        }
                        @if(email?.getError('email')){
                            <p>Email is not valid</p>
                        }
                    </div>
                }
                    <div class="relative z-0 w-full mb-5 group">
                    <input formControlName="newPassword" type="password" name="floating_password" id="floating_password" [class.!border-b-red-500]="newPassword?.errors && newPassword?.touched" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-violet-950 peer" placeholder=" "/>
                    <label for="floating_password" [class.!text-red-500]="newPassword?.errors && newPassword?.touched" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-violet-800 peer-focus:dark:text-violet-800 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Password</label>
                </div>
                @if(newPassword?.errors && newPassword?.touched){
            <div class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50" #InvalidInput role="alert">
                        @if(newPassword?.getError('required')){
                            <p>Password iis Required</p>
                        }
                        @if(newPassword?.getError('pattern')){
                            <p>Invalid Password</p>
                        }
                    </div>
                }
            
                <div class="relative z-0 w-full mb-5 group">
                    <input formControlName="rePassword" type="password" name="floating_rePassword" id="floating_rePassword" [class.!border-b-red-500]="rePassword?.errors && rePassword?.touched" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-violet-950 peer" placeholder=" "/>
                    <label for="floating_rePassword" [class.!text-red-500]="rePassword?.errors && rePassword?.touched" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-violet-800 peer-focus:dark:text-violet-800 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">RePassword</label>
                </div>
                @if(rePassword?.errors && rePassword?.touched || resetPasswordGroup.getError('notMatching')){
            <div class="flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50" #InvalidInput role="alert">
                        @if(rePassword?.getError('required')){
                            <p>RePassword is Required</p>
                        }
                        @if(resetPasswordGroup.getError('notMatching')&& rePassword?.touched){
                            <p>Passwords don't Match</p>
                        }
                    </div>
                }
            
                    <button [disabled]="resetPasswordGroup.invalid" type="submit" class="text-white disabled:bg-gray-500 disabled:scale-100 bg-violet-800 hover:bg-violet-950 focus:ring-4 focus:outline-none active:scale-[90%] transition-all duration-150 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center">
                        Continue
                    </button>
            </form>
        </div>
    </div>
</div>
</div>


